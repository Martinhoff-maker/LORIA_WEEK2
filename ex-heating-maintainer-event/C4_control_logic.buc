<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<org.eventb.core.contextFile org.eventb.core.comment="Copyright (c) 2019 LORIA&#10;   This program and the accompanying materials are made available under the&#10;   terms of the Eclipse Public License 2.0 which is available at&#10;   https://www.eclipse.org/legal/epl-2.0/&#10;   This Source Code may also be made available under the following Secondary&#10;   Licenses when the conditions for such availability set forth in the Eclipse&#10;   Public License, v. 2.0 are satisfied: GNU General Public License, version 3&#10;   which is available at https://www.gnu.org/licenses/gpl-3.0.txt&#10;   Contributers: Zheng CHENG, Dominique MERY&#10;   Notes: Context for Detailed control logic " org.eventb.core.configuration="org.eventb.core.fwd" org.eventb.core.generated="false" org.eventb.texttools.text_lastmodified="1598015190540" org.eventb.texttools.text_representation="context C4_control_logic&#10;/* Copyright (c) 2019 LORIA&#10;   This program and the accompanying materials are made available under the&#10;   terms of the Eclipse Public License 2.0 which is available at&#10;   https://www.eclipse.org/legal/epl-2.0/&#10;   This Source Code may also be made available under the following Secondary&#10;   Licenses when the conditions for such availability set forth in the Eclipse&#10;   Public License, v. 2.0 are satisfied: GNU General Public License, version 3&#10;   which is available at https://www.gnu.org/licenses/gpl-3.0.txt&#10;   Contributers: Zheng CHENG, Dominique MERY&#10;   Notes: Context for Detailed control logic */&#10; extends C3_close_loop&#10;&#10;sets ctrlSTATE&#10;&#10;constants ON OFF ONOFF&#10;          OFFON // discrete controller state&#10;          Ton // time series when state is on&#10;          Toff // time series when state is off&#10;          tact // time taken to actuating&#10;&#10;&#10;axioms&#10;  @prop_ctrlSTATE partition(ctrlSTATE, {ON}, {OFF}, {ONOFF}, {OFFON})&#10;  @type_tact tact ∈ Rpos&#10;  theorem @prop_tact_00 ∀ r· r∈Rpos ⇒ r plus tact ∈ Rpos&#10;  theorem @prop_tact_01 ∀ r· r∈Rpos ⇒ (r plus deltaT) plus tact ∈ Rpos&#10;  @type_Ton Ton ∈ (Rpos×R) → (Rpos→R) // (t0 ∗  v0) -&gt; (t -&gt; v)): return temperature v, at time t, under initial condition t0, v0&#10;  @type_Toff Toff ∈ (Rpos×R) → (Rpos→R)&#10;  @prop_lt_tact_deltaT lt(tact, deltaT)&#10;  @prop_deltaT_Tmin_Tmax lt(Tmin, (Tmax plus neg(deltaT)) plus neg(deltaT))&#10;  @prop_tact_Tmin_Tmax leq(neg(neg(tact)) plus Tmin,Tmax)&#10;  @instance_Ton Ton = (λ (t0 ↦ v0) · t0↦v0 ∈ Rpos×R ∣ (λ t · t∈Rpos ∣ neg(t0 sub t) plus v0)) // give body of Ton for simulation&#10;  @instance_Toff Toff = (λ (t0 ↦ v0) · t0↦v0 ∈ Rpos×R ∣ (λ t · t∈Rpos ∣ (t0 sub t) plus v0))&#10;  theorem @prop_Ton_init_tact leq(Ton(zero ↦ Tmin)(tact),Tmax)&#10;  theorem @prop_Ton_mono ∀ t0, v0, t1, t2 · t0∈Rpos ∧ v0∈R ∧ t1∈Rpos ∧ t2∈Rpos ⇒&#10;                         (leq(t1,t2) ⇒ leq(Ton(t0↦v0)(t1), Ton(t0↦v0)(t2))) // Ton is monotonically increasing under any inital condiitons&#10;  theorem @prop_Ton_initial ∀ t0, v0 · t0∈Rpos ∧ v0∈R  ⇒ Ton(t0↦v0)(t0) = v0 // Ton initial condition&#10;  theorem @prop_Toff_mono ∀ t0, v0, t1, t2 · t0∈Rpos ∧ v0∈R ∧ t1∈Rpos ∧ t2∈Rpos ⇒&#10;                          (leq(t1,t2) ⇒ leq(Toff(t0↦v0)(t2), Toff(t0↦v0)(t1))) // Toff is monotonically decreasing under any inital condiitons&#10;  theorem @prop_Toff_initial ∀ t0, v0 · t0∈Rpos ∧ v0∈R  ⇒ Toff(t0↦v0)(t0) = v0 // Toff initial condition&#10;  theorem @prop_Ton_Toff_deltaT ∀ t0, v0, t · t0∈Rpos ∧ v0∈R ∧ t∈Rpos ∧ gt(Ton(t0↦v0)((t plus deltaT) plus tact), Tmax) ⇒&#10;                                lt(Tmin, Toff(t plus tact↦Ton(t0↦v0)(t plus tact))((t plus deltaT) plus tact))&#10;  theorem @prop_Toff_Ton_deltaT ∀ t0, v0, t · t0∈Rpos ∧ v0∈R ∧ t∈Rpos ∧ gt(Tmin,Toff(t0 ↦ v0)((t plus deltaT) plus tact)) ⇒&#10;                                lt(Ton(t plus tact ↦ Toff(t0 ↦ v0)(t plus tact))((t plus deltaT) plus tact),Tmax)&#10;end&#10;" version="3">
<org.eventb.core.extendsContext name="_IUqXoOOvEeqGV8L4J4n50w" org.eventb.core.target="C3_close_loop"/>
<org.eventb.core.constant name="_jl4dgNM5Eemjpt_4877rBQ" org.eventb.core.generated="false" org.eventb.core.identifier="ON"/>
<org.eventb.core.constant name="_jl4dgdM5Eemjpt_4877rBQ" org.eventb.core.generated="false" org.eventb.core.identifier="OFF"/>
<org.eventb.core.constant name="_jl4dgtM5Eemjpt_4877rBQ" org.eventb.core.generated="false" org.eventb.core.identifier="ONOFF"/>
<org.eventb.core.constant name="_jl5EkNM5Eemjpt_4877rBQ" org.eventb.core.comment="discrete controller state" org.eventb.core.generated="false" org.eventb.core.identifier="OFFON"/>
<org.eventb.core.constant name="_jl5ElNM5Eemjpt_4877rBQ" org.eventb.core.comment="time series when state is on" org.eventb.core.generated="false" org.eventb.core.identifier="Ton"/>
<org.eventb.core.constant name="_jl5roNM5Eemjpt_4877rBQ" org.eventb.core.comment="time series when state is off" org.eventb.core.generated="false" org.eventb.core.identifier="Toff"/>
<org.eventb.core.constant name="_XnN3cdMKEembo_88jyb-4Q" org.eventb.core.comment="time taken to actuating" org.eventb.core.generated="false" org.eventb.core.identifier="tact"/>
<org.eventb.core.axiom name="_Y_gxAFbpEeqGPpKW089dUQ" org.eventb.core.generated="false" org.eventb.core.label="prop_ctrlSTATE" org.eventb.core.predicate="partition(ctrlSTATE, {ON}, {OFF}, {ONOFF}, {OFFON})"/>
<org.eventb.core.axiom name="_r-c2UNMKEembo_88jyb-4Q" org.eventb.core.generated="false" org.eventb.core.label="type_tact" org.eventb.core.predicate="tact ∈ Rpos"/>
<org.eventb.core.axiom name="_tAsEANksEemVNI2yYfceJx" org.eventb.core.generated="false" org.eventb.core.label="prop_tact_00" org.eventb.core.predicate="∀ r· r∈Rpos ⇒ r plus tact ∈ Rpos" org.eventb.core.theorem="true"/>
<org.eventb.core.axiom name="_tAsEANksEemVNI2yYfceJy" org.eventb.core.generated="false" org.eventb.core.label="prop_tact_01" org.eventb.core.predicate="∀ r· r∈Rpos ⇒ (r plus deltaT) plus tact ∈ Rpos" org.eventb.core.theorem="true"/>
<org.eventb.core.axiom name="_jl9WAdM5Eemjpt_4877rBQ" org.eventb.core.comment="(t0 ∗  v0) -&gt; (t -&gt; v)): return temperature v, at time t, under initial condition t0, v0" org.eventb.core.generated="false" org.eventb.core.label="type_Ton" org.eventb.core.predicate="Ton ∈ (Rpos×R) → (Rpos→R)"/>
<org.eventb.core.axiom name="_jl9WAtM5Eemjpt_4877rBQ" org.eventb.core.generated="false" org.eventb.core.label="type_Toff" org.eventb.core.predicate="Toff ∈ (Rpos×R) → (Rpos→R)"/>
<org.eventb.core.carrierSet name="_jl8H4NM5Eemjpt_4877rBQ" org.eventb.core.generated="false" org.eventb.core.identifier="ctrlSTATE"/>
<org.eventb.core.axiom name="_Y_gxAVbpEeqGPpKW089dUQ" org.eventb.core.generated="false" org.eventb.core.label="prop_lt_tact_deltaT" org.eventb.core.predicate="lt(tact, deltaT)"/>
<org.eventb.core.axiom name="_jl8H4tM5Eemjpt_4877rBQ" org.eventb.core.generated="false" org.eventb.core.label="prop_deltaT_Tmin_Tmax" org.eventb.core.predicate="lt(Tmin, (Tmax plus neg(deltaT)) plus neg(deltaT))"/>
<org.eventb.core.axiom name="_tAsEANksEemVNI2yYfceJw" org.eventb.core.generated="false" org.eventb.core.label="prop_tact_Tmin_Tmax" org.eventb.core.predicate="leq(neg(neg(tact)) plus Tmin,Tmax)"/>
<org.eventb.core.axiom name="_jl99EdM5Eemjpt_4877rBQ" org.eventb.core.comment="give body of Ton for simulation" org.eventb.core.generated="false" org.eventb.core.label="instance_Ton" org.eventb.core.predicate="Ton = (λ (t0 ↦ v0) · t0↦v0 ∈ Rpos×R ∣ (λ t · t∈Rpos ∣ neg(t0 sub t) plus v0))"/>
<org.eventb.core.axiom name="_jl99EtM5Eemjpt_4877rBQ" org.eventb.core.generated="false" org.eventb.core.label="instance_Toff" org.eventb.core.predicate="Toff = (λ (t0 ↦ v0) · t0↦v0 ∈ Rpos×R ∣ (λ t · t∈Rpos ∣ (t0 sub t) plus v0))"/>
<org.eventb.core.axiom name="_oSpp0Nh3EemNM9c0hB9Xug" org.eventb.core.generated="false" org.eventb.core.label="prop_Ton_init_tact" org.eventb.core.predicate="leq(Ton(zero ↦ Tmin)(tact),Tmax)" org.eventb.core.theorem="true"/>
<org.eventb.core.axiom name="_jl-kINM5Eemjpt_4877rBQ" org.eventb.core.comment="Ton is monotonically increasing under any inital condiitons" org.eventb.core.generated="false" org.eventb.core.label="prop_Ton_mono" org.eventb.core.predicate="∀ t0, v0, t1, t2 · t0∈Rpos ∧ v0∈R ∧ t1∈Rpos ∧ t2∈Rpos ⇒&#10;                         (leq(t1,t2) ⇒ leq(Ton(t0↦v0)(t1), Ton(t0↦v0)(t2)))" org.eventb.core.theorem="true"/>
<org.eventb.core.axiom name="_jl-kIdM5Eemjpt_4877rBQ" org.eventb.core.comment="Ton initial condition" org.eventb.core.generated="false" org.eventb.core.label="prop_Ton_initial" org.eventb.core.predicate="∀ t0, v0 · t0∈Rpos ∧ v0∈R  ⇒ Ton(t0↦v0)(t0) = v0" org.eventb.core.theorem="true"/>
<org.eventb.core.axiom name="_jl_LMNM5Eemjpt_4877rBQ" org.eventb.core.comment="Toff is monotonically decreasing under any inital condiitons" org.eventb.core.generated="false" org.eventb.core.label="prop_Toff_mono" org.eventb.core.predicate="∀ t0, v0, t1, t2 · t0∈Rpos ∧ v0∈R ∧ t1∈Rpos ∧ t2∈Rpos ⇒&#10;                          (leq(t1,t2) ⇒ leq(Toff(t0↦v0)(t2), Toff(t0↦v0)(t1)))" org.eventb.core.theorem="true"/>
<org.eventb.core.axiom name="_jl_LMdM5Eemjpt_4877rBQ" org.eventb.core.comment="Toff initial condition" org.eventb.core.generated="false" org.eventb.core.label="prop_Toff_initial" org.eventb.core.predicate="∀ t0, v0 · t0∈Rpos ∧ v0∈R  ⇒ Toff(t0↦v0)(t0) = v0" org.eventb.core.theorem="true"/>
<org.eventb.core.axiom name="_pYU4sNfYEemWfIUtMckGsw" org.eventb.core.generated="false" org.eventb.core.label="prop_Ton_Toff_deltaT" org.eventb.core.predicate="∀ t0, v0, t · t0∈Rpos ∧ v0∈R ∧ t∈Rpos ∧ gt(Ton(t0↦v0)((t plus deltaT) plus tact), Tmax) ⇒&#10;                                lt(Tmin, Toff(t plus tact↦Ton(t0↦v0)(t plus tact))((t plus deltaT) plus tact))" org.eventb.core.theorem="true"/>
<org.eventb.core.axiom name="_Su7gUNiQEemozbm92TYvyg" org.eventb.core.generated="false" org.eventb.core.label="prop_Toff_Ton_deltaT" org.eventb.core.predicate="∀ t0, v0, t · t0∈Rpos ∧ v0∈R ∧ t∈Rpos ∧ gt(Tmin,Toff(t0 ↦ v0)((t plus deltaT) plus tact)) ⇒&#10;                                lt(Ton(t plus tact ↦ Toff(t0 ↦ v0)(t plus tact))((t plus deltaT) plus tact),Tmax)" org.eventb.core.theorem="true"/>
</org.eventb.core.contextFile>
