<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<org.eventb.core.machineFile org.eventb.core.comment="Copyright (c) 2019 LORIA&#10;   This program and the accompanying materials are made available under the&#10;   terms of the Eclipse Public License 2.0 which is available at&#10;   https://www.eclipse.org/legal/epl-2.0/&#10;   This Source Code may also be made available under the following Secondary&#10;   Licenses when the conditions for such availability set forth in the Eclipse&#10;   Public License, v. 2.0 are satisfied: GNU General Public License, version 3&#10;   which is available at https://www.gnu.org/licenses/gpl-3.0.txt&#10;   Contributers: Zheng CHENG, Dominique MERY&#10;   Notes: Time trigger design " org.eventb.core.configuration="org.eventb.core.fwd" org.eventb.core.generated="false" org.eventb.texttools.text_lastmodified="1601834697867" org.eventb.texttools.text_representation="machine M5_0_prepare&#10;/* Copyright (c) 2019 LORIA&#10;   This program and the accompanying materials are made available under the&#10;   terms of the Eclipse Public License 2.0 which is available at&#10;   https://www.eclipse.org/legal/epl-2.0/&#10;   This Source Code may also be made available under the following Secondary&#10;   Licenses when the conditions for such availability set forth in the Eclipse&#10;   Public License, v. 2.0 are satisfied: GNU General Public License, version 3&#10;   which is available at https://www.gnu.org/licenses/gpl-3.0.txt&#10;   Contributers: Zheng CHENG, Dominique MERY&#10;   Notes: Time trigger design */&#10; refines M4_2_control_logic_time_trigger  sees C4_control_logic&#10;&#10;variables T // continuous var temperature&#10;          now // continuous var time&#10;          s // system state&#10;          fa // predicted safe time series by the controller&#10;          q // discrete state&#10;          t0 // initial condition: time&#10;          T0 // initial condition: temperature&#10;          ta&#10;&#10;invariants&#10;  @type_T T∈Rpos→R&#10;  @type_now now∈Rpos&#10;  @type_s s∈sysSTATE&#10;  @type_fa fa ∈ Rpos → R&#10;  @type_q q∈ctrlSTATE&#10;  @type_t0 t0∈Rpos&#10;  @type_T0 T0∈R&#10;  @id_fa_on s = RUN ∧ q=ON ⇒ (fa = Ton(t0↦T0))&#10;  @id_fa_off s= RUN ∧ q=OFF ⇒ (fa = Toff(t0↦T0))&#10;  @id_fa_onoff s = RUN ∧ q=ONOFF ⇒ (fa = Toff(now plus tact↦Ton(t0↦T0)(now plus tact))  (openclosed(now, now plus tact)◁ Ton(t0↦T0)))&#10;  @id_fa_offon s= RUN ∧ q=OFFON ⇒  (fa = Ton(now plus tact↦Toff(t0↦T0)(now plus tact))  (openclosed(now, now plus tact)◁ Toff(t0↦T0)))&#10;  @id_Ton_now s = DECISION ∧ (q=ON) ⇒ (T(now) = Ton(t0↦T0)(now))&#10;  @id_Ton_now2 s = DECISION ∧ (q=OFFON) ⇒ (T(now) = Ton(t0↦T0)(now))&#10;  @id_Toff_now s= DECISION ∧ (q=OFF) ⇒ (T(now) = Toff(t0↦T0)(now))&#10;  @id_Toff_now2 s= DECISION ∧ (q=ONOFF) ⇒ (T(now) = Toff(t0↦T0)(now))&#10;  @id_Ton_tact s = DECISION ∧ (q=ON) ⇒ (T(now plus tact) = Ton(t0↦T0)(now plus tact))&#10;  @id_Toff_tact s= DECISION ∧ (q=OFF) ⇒ (T(now plus tact) = Toff(t0↦T0)(now plus tact))&#10;  @id_Ton_tact2 s = DECISION ∧ (q=OFFON) ⇒ (T(now plus tact) = Ton(t0↦T0)(now plus tact))&#10;  @id_Toff_tact2 s= DECISION ∧ (q=ONOFF) ⇒ (T(now plus tact) = Toff(t0↦T0)(now plus tact))&#10;  @safe_fa s = RUN ⇒   (∀t·t∈Rpos∧t∈openclosed(now, (now plus deltaT) plus tact)⇒fa(t)∈closed(Tmin,Tmax))&#10;  theorem @safe_fa_deduced s = RUN ⇒ (∀t·t∈Rpos∧t∈openclosed(now, now plus ta)⇒fa(t)∈closed(Tmin,Tmax))&#10;  @safety01 ∀t·t∈Rpos∧t∈closed(zero, now)⇒ T(t)∈closed(Tmin,Tmax)&#10;  @safety00 (∀t·t∈Rpos∧t∈closed(zero, now plus tact)⇒T(t)∈closed(Tmin,Tmax))&#10;  @glue_ta ta = deltaT&#10;  theorem @thm_now_plus_type now plus tact∈Rpos&#10;  theorem @thm_now_plus_type2 now plus deltaT∈Rpos&#10;  theorem @thm_now_lt lt(now, now plus deltaT)&#10;  theorem @thm_now_lt01 lt(now,(now plus deltaT) plus tact)&#10;  theorem @thm_now_tact leq(zero,now plus tact)&#10;  theorem @thm_now_delta_tact leq(now plus deltaT,(now plus deltaT) plus tact)&#10;  theorem @thm_now leq(zero,now)&#10;  theorem @thm_now_nowtact leq(now,now plus tact)&#10;  theorem @thm_set_Rpos openclosed(now,now plus tact)⊆Rpos&#10;&#10;events&#10;  event INITIALISATION&#10;    then&#10;      @act1 T ≔  (λ t · t ∈ Rpos ∣ Tmin)   { zero plus tact ↦ Ton(zero↦Tmin)(zero plus tact)}&#10;      @act2 now ≔ zero&#10;      @act3 s ≔ DECISION&#10;      @act5 fa :∈ Rpos → R&#10;      @act6 q ≔ ON&#10;      @act7 t0≔zero&#10;      @act8 T0≔Tmin&#10;      @act9 ta≔deltaT&#10;  end&#10;&#10;  event Plant_ON refines Plant_ON&#10;    where&#10;      @grd1 s = RUN&#10;      @grd2 q = ON&#10;    then&#10;      @act1 now ≔ now plus deltaT&#10;      @act2 T ≔ (T   (lopen(now)◁ fa))&#10;      @act3 s ≔ DECISION&#10;  end&#10;&#10;  event Plant_OFF refines Plant_OFF&#10;    where&#10;      @grd1 s = RUN&#10;      @grd2 q = OFF&#10;    then&#10;      @act1 now ≔ now plus deltaT&#10;      @act2 T ≔ (T   (lopen(now)◁ fa))&#10;      @act3 s ≔ DECISION&#10;  end&#10;&#10;  event Plant_ONOFF refines Plant_ONOFF&#10;    where&#10;      @grd1 s = RUN&#10;      @grd2 q = ONOFF&#10;    then&#10;      @act1 now ≔ now plus deltaT&#10;      @act2 T ≔ (T   (lopen(now)◁ fa))&#10;      @act3 s ≔ DECISION&#10;      @act4 t0 ≔ now plus tact // shifting initial condition&#10;      @act5 T0 ≔ Ton(t0↦T0)(now plus tact) // shifting initial condition&#10;  end&#10;&#10;  event Plant_OFFON refines Plant_OFFON&#10;    where&#10;      @grd1 s = RUN&#10;      @grd2 q = OFFON&#10;    then&#10;      @act1 now ≔ now plus deltaT&#10;      @act2 T ≔ (T   (lopen(now)◁ fa))&#10;      @act3 s ≔ DECISION&#10;      @act4 t0 ≔ now plus tact // shifting initial condition&#10;      @act5 T0 ≔ Toff(t0↦T0)(now plus tact) // shifting initial condition&#10;  end&#10;&#10;  event Ctrl_ON_safe refines Ctrl_ON_safe&#10;    any fx qx&#10;    where&#10;      @grd1 s = DECISION&#10;      @grd2 q = ON ∨ q = OFFON&#10;      @grd3 leq(Ton(t0↦T0)((now plus deltaT) plus tact), Tmax)&#10;      @grd4 fx = Ton(t0↦T0)&#10;      @grd5 qx = ON&#10;      theorem @grd6 (∀t·t∈Rpos∧t∈openclosed(now, (now plus deltaT) plus tact)⇒fx(t)∈closed(Tmin,Tmax))&#10;    then&#10;      @act1 s ≔ RUN&#10;      @act2 fa ≔ fx&#10;      @act3 q ≔ qx&#10;  end&#10;&#10;  event Ctrl_ON_unsafe refines Ctrl_ON_unsafe&#10;    any fx qx&#10;    where&#10;      @grd1 s = DECISION&#10;      @grd2 q = ON ∨ q = OFFON&#10;      @grd3 gt(Ton(t0↦T0)((now plus deltaT) plus tact), Tmax)&#10;      @grd4 fx = Toff(now plus tact↦Ton(t0↦T0)(now plus tact))  (openclosed(now, now plus tact)◁ Ton(t0↦T0))&#10;      @grd5 qx = ONOFF&#10;      theorem @grd6 (∀t·t∈Rpos∧t∈openclosed(now, (now plus deltaT) plus tact)⇒fx(t)∈closed(Tmin,Tmax))&#10;    then&#10;      @act1 s ≔ RUN&#10;      @act2 fa ≔ fx&#10;      @act3 q ≔ qx&#10;  end&#10;&#10;  event Ctrl_OFF_safe // Case 3: OFF or ONOFF mode, Toff(now+deltaT+tact) &gt;= Tmin, STAY OFF&#10;  refines Ctrl_OFF_safe&#10;    any fx qx&#10;    where&#10;      @grd1 s = DECISION&#10;      @grd2 q = OFF ∨ q = ONOFF&#10;      @grd3 leq(Tmin, Toff(t0↦T0)((now plus deltaT) plus tact))&#10;      @grd4 fx = Toff(t0↦T0)&#10;      @grd5 qx = OFF&#10;      theorem @grd6 (∀t·t∈Rpos∧t∈openclosed(now, (now plus deltaT) plus tact)⇒fx(t)∈closed(Tmin,Tmax))&#10;    then&#10;      @act1 s ≔ RUN&#10;      @act2 fa ≔ fx&#10;      @act3 q ≔ qx&#10;  end&#10;&#10;  event Ctrl_OFF_unsafe // Case 4: OFF or ONOFF mode, Toff(now+deltaT+tact) &lt; Tmin, SWITCH ON&#10;  refines Ctrl_OFF_unsafe&#10;    any fx qx&#10;    where&#10;      @grd1 s = DECISION&#10;      @grd2 q = OFF ∨ q = ONOFF&#10;      @grd3 gt(Tmin, Toff(t0↦T0)((now plus deltaT) plus tact))&#10;      @grd4 fx = Ton(now plus tact↦Toff(t0↦T0)(now plus tact))  (openclosed(now, now plus tact)◁ Toff(t0↦T0))&#10;      @grd5 qx = OFFON&#10;      theorem @grd6 (∀t·t∈Rpos∧t∈openclosed(now, (now plus deltaT) plus tact)⇒fx(t)∈closed(Tmin,Tmax))&#10;    then&#10;      @act1 s ≔ RUN&#10;      @act2 fa ≔ fx&#10;      @act3 q ≔ qx&#10;  end&#10;end&#10;" version="5">
<org.eventb.core.refinesMachine name="_uXPDkAMvEeu8u6cRqHVE-w" org.eventb.core.target="M4_2_control_logic_time_trigger"/>
<org.eventb.core.seesContext name="_uXPDkQMvEeu8u6cRqHVE-w" org.eventb.core.target="C4_control_logic"/>
<org.eventb.core.event name="'" org.eventb.core.convergence="0" org.eventb.core.extended="false" org.eventb.core.generated="false" org.eventb.core.label="INITIALISATION">
<org.eventb.core.action name="_uXPDkgMvEeu8u6cRqHVE-w" org.eventb.core.assignment="T ≔  (λ t · t ∈ Rpos ∣ Tmin)   { zero plus tact ↦ Ton(zero↦Tmin)(zero plus tact)}" org.eventb.core.generated="false" org.eventb.core.label="act1"/>
<org.eventb.core.action name="_uXPDkwMvEeu8u6cRqHVE-w" org.eventb.core.assignment="now ≔ zero" org.eventb.core.generated="false" org.eventb.core.label="act2"/>
<org.eventb.core.action name="_uXPDlAMvEeu8u6cRqHVE-w" org.eventb.core.assignment="s ≔ DECISION" org.eventb.core.generated="false" org.eventb.core.label="act3"/>
<org.eventb.core.action name="_uXPqoAMvEeu8u6cRqHVE-w" org.eventb.core.assignment="fa :∈ Rpos → R" org.eventb.core.generated="false" org.eventb.core.label="act5"/>
<org.eventb.core.action name="_uXPqoQMvEeu8u6cRqHVE-w" org.eventb.core.assignment="q ≔ ON" org.eventb.core.generated="false" org.eventb.core.label="act6"/>
<org.eventb.core.action name="_uXPqogMvEeu8u6cRqHVE-w" org.eventb.core.assignment="t0≔zero" org.eventb.core.generated="false" org.eventb.core.label="act7"/>
<org.eventb.core.action name="_uXPqowMvEeu8u6cRqHVE-w" org.eventb.core.assignment="T0≔Tmin" org.eventb.core.generated="false" org.eventb.core.label="act8"/>
<org.eventb.core.action name="_uXPqpAMvEeu8u6cRqHVE-w" org.eventb.core.assignment="ta≔deltaT" org.eventb.core.generated="false" org.eventb.core.label="act9"/>
</org.eventb.core.event>
<org.eventb.core.variable name="_uXPqpQMvEeu8u6cRqHVE-w" org.eventb.core.comment="continuous var temperature" org.eventb.core.generated="false" org.eventb.core.identifier="T"/>
<org.eventb.core.variable name="_uXPqpgMvEeu8u6cRqHVE-w" org.eventb.core.comment="continuous var time" org.eventb.core.generated="false" org.eventb.core.identifier="now"/>
<org.eventb.core.variable name="_uXPqpwMvEeu8u6cRqHVE-w" org.eventb.core.comment="system state" org.eventb.core.generated="false" org.eventb.core.identifier="s"/>
<org.eventb.core.variable name="_uXQRsAMvEeu8u6cRqHVE-w" org.eventb.core.comment="predicted safe time series by the controller" org.eventb.core.generated="false" org.eventb.core.identifier="fa"/>
<org.eventb.core.variable name="_uXQRsQMvEeu8u6cRqHVE-w" org.eventb.core.comment="discrete state" org.eventb.core.generated="false" org.eventb.core.identifier="q"/>
<org.eventb.core.variable name="_uXQRsgMvEeu8u6cRqHVE-w" org.eventb.core.comment="initial condition: time" org.eventb.core.generated="false" org.eventb.core.identifier="t0"/>
<org.eventb.core.variable name="_uXQRswMvEeu8u6cRqHVE-w" org.eventb.core.comment="initial condition: temperature" org.eventb.core.generated="false" org.eventb.core.identifier="T0"/>
<org.eventb.core.variable name="_uXQRtAMvEeu8u6cRqHVE-w" org.eventb.core.generated="false" org.eventb.core.identifier="ta"/>
<org.eventb.core.invariant name="_uXQRtQMvEeu8u6cRqHVE-w" org.eventb.core.generated="false" org.eventb.core.label="type_T" org.eventb.core.predicate="T∈Rpos→R"/>
<org.eventb.core.invariant name="_uXQRtgMvEeu8u6cRqHVE-w" org.eventb.core.generated="false" org.eventb.core.label="type_now" org.eventb.core.predicate="now∈Rpos"/>
<org.eventb.core.invariant name="_uXQRtwMvEeu8u6cRqHVE-w" org.eventb.core.generated="false" org.eventb.core.label="type_s" org.eventb.core.predicate="s∈sysSTATE"/>
<org.eventb.core.invariant name="_uXQ4wAMvEeu8u6cRqHVE-w" org.eventb.core.generated="false" org.eventb.core.label="type_fa" org.eventb.core.predicate="fa ∈ Rpos → R"/>
<org.eventb.core.invariant name="_uXQ4wQMvEeu8u6cRqHVE-w" org.eventb.core.generated="false" org.eventb.core.label="type_q" org.eventb.core.predicate="q∈ctrlSTATE"/>
<org.eventb.core.invariant name="_uXQ4wgMvEeu8u6cRqHVE-w" org.eventb.core.generated="false" org.eventb.core.label="type_t0" org.eventb.core.predicate="t0∈Rpos"/>
<org.eventb.core.invariant name="_uXQ4wwMvEeu8u6cRqHVE-w" org.eventb.core.generated="false" org.eventb.core.label="type_T0" org.eventb.core.predicate="T0∈R"/>
<org.eventb.core.invariant name="_uXQ4xAMvEeu8u6cRqHVE-w" org.eventb.core.generated="false" org.eventb.core.label="id_fa_on" org.eventb.core.predicate="s = RUN ∧ q=ON ⇒ (fa = Ton(t0↦T0))"/>
<org.eventb.core.invariant name="_uXQ4xQMvEeu8u6cRqHVE-w" org.eventb.core.generated="false" org.eventb.core.label="id_fa_off" org.eventb.core.predicate="s= RUN ∧ q=OFF ⇒ (fa = Toff(t0↦T0))"/>
<org.eventb.core.invariant name="_uXQ4xgMvEeu8u6cRqHVE-w" org.eventb.core.generated="false" org.eventb.core.label="id_fa_onoff" org.eventb.core.predicate="s = RUN ∧ q=ONOFF ⇒ (fa = Toff(now plus tact↦Ton(t0↦T0)(now plus tact))  (openclosed(now, now plus tact)◁ Ton(t0↦T0)))"/>
<org.eventb.core.invariant name="_uXRf0AMvEeu8u6cRqHVE-w" org.eventb.core.generated="false" org.eventb.core.label="id_fa_offon" org.eventb.core.predicate="s= RUN ∧ q=OFFON ⇒  (fa = Ton(now plus tact↦Toff(t0↦T0)(now plus tact))  (openclosed(now, now plus tact)◁ Toff(t0↦T0)))"/>
<org.eventb.core.invariant name="_uXRf0QMvEeu8u6cRqHVE-w" org.eventb.core.generated="false" org.eventb.core.label="id_Ton_now" org.eventb.core.predicate="s = DECISION ∧ (q=ON) ⇒ (T(now) = Ton(t0↦T0)(now))"/>
<org.eventb.core.invariant name="_uXRf0gMvEeu8u6cRqHVE-w" org.eventb.core.generated="false" org.eventb.core.label="id_Ton_now2" org.eventb.core.predicate="s = DECISION ∧ (q=OFFON) ⇒ (T(now) = Ton(t0↦T0)(now))"/>
<org.eventb.core.invariant name="_uXRf0wMvEeu8u6cRqHVE-w" org.eventb.core.generated="false" org.eventb.core.label="id_Toff_now" org.eventb.core.predicate="s= DECISION ∧ (q=OFF) ⇒ (T(now) = Toff(t0↦T0)(now))"/>
<org.eventb.core.invariant name="_uXRf1AMvEeu8u6cRqHVE-w" org.eventb.core.generated="false" org.eventb.core.label="id_Toff_now2" org.eventb.core.predicate="s= DECISION ∧ (q=ONOFF) ⇒ (T(now) = Toff(t0↦T0)(now))"/>
<org.eventb.core.invariant name="_uXRf1QMvEeu8u6cRqHVE-w" org.eventb.core.generated="false" org.eventb.core.label="id_Ton_tact" org.eventb.core.predicate="s = DECISION ∧ (q=ON) ⇒ (T(now plus tact) = Ton(t0↦T0)(now plus tact))"/>
<org.eventb.core.invariant name="_uXRf1gMvEeu8u6cRqHVE-w" org.eventb.core.generated="false" org.eventb.core.label="id_Toff_tact" org.eventb.core.predicate="s= DECISION ∧ (q=OFF) ⇒ (T(now plus tact) = Toff(t0↦T0)(now plus tact))"/>
<org.eventb.core.invariant name="_uXSG4AMvEeu8u6cRqHVE-w" org.eventb.core.generated="false" org.eventb.core.label="id_Ton_tact2" org.eventb.core.predicate="s = DECISION ∧ (q=OFFON) ⇒ (T(now plus tact) = Ton(t0↦T0)(now plus tact))"/>
<org.eventb.core.invariant name="_uXSG4QMvEeu8u6cRqHVE-w" org.eventb.core.generated="false" org.eventb.core.label="id_Toff_tact2" org.eventb.core.predicate="s= DECISION ∧ (q=ONOFF) ⇒ (T(now plus tact) = Toff(t0↦T0)(now plus tact))"/>
<org.eventb.core.invariant name="_uXSG4gMvEeu8u6cRqHVE-w" org.eventb.core.generated="false" org.eventb.core.label="safe_fa" org.eventb.core.predicate="s = RUN ⇒   (∀t·t∈Rpos∧t∈openclosed(now, (now plus deltaT) plus tact)⇒fa(t)∈closed(Tmin,Tmax))"/>
<org.eventb.core.invariant name="_uXSG4wMvEeu8u6cRqHVE-w" org.eventb.core.generated="false" org.eventb.core.label="safe_fa_deduced" org.eventb.core.predicate="s = RUN ⇒ (∀t·t∈Rpos∧t∈openclosed(now, now plus ta)⇒fa(t)∈closed(Tmin,Tmax))" org.eventb.core.theorem="true"/>
<org.eventb.core.invariant name="_uXSG5AMvEeu8u6cRqHVE-w" org.eventb.core.generated="false" org.eventb.core.label="safety01" org.eventb.core.predicate="∀t·t∈Rpos∧t∈closed(zero, now)⇒ T(t)∈closed(Tmin,Tmax)"/>
<org.eventb.core.invariant name="_faKawAW1EeupSo2yOlEiFg" org.eventb.core.generated="false" org.eventb.core.label="safety00" org.eventb.core.predicate="(∀t·t∈Rpos∧t∈closed(zero, now plus tact)⇒T(t)∈closed(Tmin,Tmax))"/>
<org.eventb.core.invariant name="_uXSG5QMvEeu8u6cRqHVE-w" org.eventb.core.generated="false" org.eventb.core.label="glue_ta" org.eventb.core.predicate="ta = deltaT"/>
<org.eventb.core.invariant name="_uXSt8AMvEeu8u6cRqHVE-w" org.eventb.core.generated="false" org.eventb.core.label="thm_now_plus_type" org.eventb.core.predicate="now plus tact∈Rpos" org.eventb.core.theorem="true"/>
<org.eventb.core.invariant name="_uXSt8QMvEeu8u6cRqHVE-w" org.eventb.core.generated="false" org.eventb.core.label="thm_now_plus_type2" org.eventb.core.predicate="now plus deltaT∈Rpos" org.eventb.core.theorem="true"/>
<org.eventb.core.invariant name="_uXSt8gMvEeu8u6cRqHVE-w" org.eventb.core.generated="false" org.eventb.core.label="thm_now_lt" org.eventb.core.predicate="lt(now, now plus deltaT)" org.eventb.core.theorem="true"/>
<org.eventb.core.invariant name="_uXSt8wMvEeu8u6cRqHVE-w" org.eventb.core.generated="false" org.eventb.core.label="thm_now_lt01" org.eventb.core.predicate="lt(now,(now plus deltaT) plus tact)" org.eventb.core.theorem="true"/>
<org.eventb.core.event name="_uXSt9AMvEeu8u6cRqHVE-w" org.eventb.core.convergence="0" org.eventb.core.extended="false" org.eventb.core.generated="false" org.eventb.core.label="Plant_ON">
<org.eventb.core.refinesEvent name="_uXSt9QMvEeu8u6cRqHVE-w" org.eventb.core.target="Plant_ON"/>
<org.eventb.core.guard name="_uXSt9gMvEeu8u6cRqHVE-w" org.eventb.core.generated="false" org.eventb.core.label="grd1" org.eventb.core.predicate="s = RUN"/>
<org.eventb.core.guard name="_uXTVAAMvEeu8u6cRqHVE-w" org.eventb.core.generated="false" org.eventb.core.label="grd2" org.eventb.core.predicate="q = ON"/>
<org.eventb.core.action name="_uXTVAQMvEeu8u6cRqHVE-w" org.eventb.core.assignment="now ≔ now plus deltaT" org.eventb.core.generated="false" org.eventb.core.label="act1"/>
<org.eventb.core.action name="_uXTVAgMvEeu8u6cRqHVE-w" org.eventb.core.assignment="T ≔ (T   (lopen(now)◁ fa))" org.eventb.core.generated="false" org.eventb.core.label="act2"/>
<org.eventb.core.action name="_uXTVAwMvEeu8u6cRqHVE-w" org.eventb.core.assignment="s ≔ DECISION" org.eventb.core.generated="false" org.eventb.core.label="act3"/>
</org.eventb.core.event>
<org.eventb.core.event name="_uXTVBAMvEeu8u6cRqHVE-w" org.eventb.core.convergence="0" org.eventb.core.extended="false" org.eventb.core.generated="false" org.eventb.core.label="Plant_OFF">
<org.eventb.core.refinesEvent name="_uXTVBQMvEeu8u6cRqHVE-w" org.eventb.core.target="Plant_OFF"/>
<org.eventb.core.guard name="_uXTVBgMvEeu8u6cRqHVE-w" org.eventb.core.generated="false" org.eventb.core.label="grd1" org.eventb.core.predicate="s = RUN"/>
<org.eventb.core.guard name="_uXTVBwMvEeu8u6cRqHVE-w" org.eventb.core.generated="false" org.eventb.core.label="grd2" org.eventb.core.predicate="q = OFF"/>
<org.eventb.core.action name="_uXTVCAMvEeu8u6cRqHVE-w" org.eventb.core.assignment="now ≔ now plus deltaT" org.eventb.core.generated="false" org.eventb.core.label="act1"/>
<org.eventb.core.action name="_uXT8EAMvEeu8u6cRqHVE-w" org.eventb.core.assignment="T ≔ (T   (lopen(now)◁ fa))" org.eventb.core.generated="false" org.eventb.core.label="act2"/>
<org.eventb.core.action name="_uXT8EQMvEeu8u6cRqHVE-w" org.eventb.core.assignment="s ≔ DECISION" org.eventb.core.generated="false" org.eventb.core.label="act3"/>
</org.eventb.core.event>
<org.eventb.core.event name="_uXT8EgMvEeu8u6cRqHVE-w" org.eventb.core.convergence="0" org.eventb.core.extended="false" org.eventb.core.generated="false" org.eventb.core.label="Plant_ONOFF">
<org.eventb.core.refinesEvent name="_uXT8EwMvEeu8u6cRqHVE-w" org.eventb.core.target="Plant_ONOFF"/>
<org.eventb.core.guard name="_uXT8FAMvEeu8u6cRqHVE-w" org.eventb.core.generated="false" org.eventb.core.label="grd1" org.eventb.core.predicate="s = RUN"/>
<org.eventb.core.guard name="_uXT8FQMvEeu8u6cRqHVE-w" org.eventb.core.generated="false" org.eventb.core.label="grd2" org.eventb.core.predicate="q = ONOFF"/>
<org.eventb.core.action name="_uXT8FgMvEeu8u6cRqHVE-w" org.eventb.core.assignment="now ≔ now plus deltaT" org.eventb.core.generated="false" org.eventb.core.label="act1"/>
<org.eventb.core.action name="_uXUjIAMvEeu8u6cRqHVE-w" org.eventb.core.assignment="T ≔ (T   (lopen(now)◁ fa))" org.eventb.core.generated="false" org.eventb.core.label="act2"/>
<org.eventb.core.action name="_uXUjIQMvEeu8u6cRqHVE-w" org.eventb.core.assignment="s ≔ DECISION" org.eventb.core.generated="false" org.eventb.core.label="act3"/>
<org.eventb.core.action name="_uXUjIgMvEeu8u6cRqHVE-w" org.eventb.core.assignment="t0 ≔ now plus tact" org.eventb.core.comment="shifting initial condition" org.eventb.core.generated="false" org.eventb.core.label="act4"/>
<org.eventb.core.action name="_uXUjIwMvEeu8u6cRqHVE-w" org.eventb.core.assignment="T0 ≔ Ton(t0↦T0)(now plus tact)" org.eventb.core.comment="shifting initial condition" org.eventb.core.generated="false" org.eventb.core.label="act5"/>
</org.eventb.core.event>
<org.eventb.core.event name="_uXUjJAMvEeu8u6cRqHVE-w" org.eventb.core.convergence="0" org.eventb.core.extended="false" org.eventb.core.generated="false" org.eventb.core.label="Plant_OFFON">
<org.eventb.core.refinesEvent name="_uXUjJQMvEeu8u6cRqHVE-w" org.eventb.core.target="Plant_OFFON"/>
<org.eventb.core.guard name="_uXUjJgMvEeu8u6cRqHVE-w" org.eventb.core.generated="false" org.eventb.core.label="grd1" org.eventb.core.predicate="s = RUN"/>
<org.eventb.core.guard name="_uXUjJwMvEeu8u6cRqHVE-w" org.eventb.core.generated="false" org.eventb.core.label="grd2" org.eventb.core.predicate="q = OFFON"/>
<org.eventb.core.action name="_uXVKMAMvEeu8u6cRqHVE-w" org.eventb.core.assignment="now ≔ now plus deltaT" org.eventb.core.generated="false" org.eventb.core.label="act1"/>
<org.eventb.core.action name="_uXVKMQMvEeu8u6cRqHVE-w" org.eventb.core.assignment="T ≔ (T   (lopen(now)◁ fa))" org.eventb.core.generated="false" org.eventb.core.label="act2"/>
<org.eventb.core.action name="_uXVKMgMvEeu8u6cRqHVE-w" org.eventb.core.assignment="s ≔ DECISION" org.eventb.core.generated="false" org.eventb.core.label="act3"/>
<org.eventb.core.action name="_uXVKMwMvEeu8u6cRqHVE-w" org.eventb.core.assignment="t0 ≔ now plus tact" org.eventb.core.comment="shifting initial condition" org.eventb.core.generated="false" org.eventb.core.label="act4"/>
<org.eventb.core.action name="_uXVKNAMvEeu8u6cRqHVE-w" org.eventb.core.assignment="T0 ≔ Toff(t0↦T0)(now plus tact)" org.eventb.core.comment="shifting initial condition" org.eventb.core.generated="false" org.eventb.core.label="act5"/>
</org.eventb.core.event>
<org.eventb.core.event name="_uXVKNQMvEeu8u6cRqHVE-w" org.eventb.core.convergence="0" org.eventb.core.extended="false" org.eventb.core.generated="false" org.eventb.core.label="Ctrl_ON_safe">
<org.eventb.core.refinesEvent name="_uXVKNgMvEeu8u6cRqHVE-w" org.eventb.core.target="Ctrl_ON_safe"/>
<org.eventb.core.parameter name="_76LrMAMvEeu8u6cRqHVE-w" org.eventb.core.generated="false" org.eventb.core.identifier="fx"/>
<org.eventb.core.parameter name="_76LrMQMvEeu8u6cRqHVE-w" org.eventb.core.generated="false" org.eventb.core.identifier="qx"/>
<org.eventb.core.guard name="_uXVxQAMvEeu8u6cRqHVE-w" org.eventb.core.generated="false" org.eventb.core.label="grd1" org.eventb.core.predicate="s = DECISION"/>
<org.eventb.core.guard name="_uXVxQQMvEeu8u6cRqHVE-w" org.eventb.core.generated="false" org.eventb.core.label="grd2" org.eventb.core.predicate="q = ON ∨ q = OFFON"/>
<org.eventb.core.guard name="_uXVxQgMvEeu8u6cRqHVE-w" org.eventb.core.generated="false" org.eventb.core.label="grd3" org.eventb.core.predicate="leq(Ton(t0↦T0)((now plus deltaT) plus tact), Tmax)"/>
<org.eventb.core.guard name="_uXVxQwMvEeu8u6cRqHVE-w" org.eventb.core.generated="false" org.eventb.core.label="grd4" org.eventb.core.predicate="fx = Ton(t0↦T0)"/>
<org.eventb.core.guard name="_76MSQAMvEeu8u6cRqHVE-w" org.eventb.core.generated="false" org.eventb.core.label="grd5" org.eventb.core.predicate="qx = ON"/>
<org.eventb.core.guard name="_-nJAsAMvEeu8u6cRqHVE-w" org.eventb.core.generated="false" org.eventb.core.label="grd6" org.eventb.core.predicate="(∀t·t∈Rpos∧t∈openclosed(now, (now plus deltaT) plus tact)⇒fx(t)∈closed(Tmin,Tmax))" org.eventb.core.theorem="true"/>
<org.eventb.core.action name="_uXVxRwMvEeu8u6cRqHVE-w" org.eventb.core.assignment="s ≔ RUN" org.eventb.core.generated="false" org.eventb.core.label="act1"/>
<org.eventb.core.action name="_uXWYUAMvEeu8u6cRqHVE-w" org.eventb.core.assignment="fa ≔ fx" org.eventb.core.generated="false" org.eventb.core.label="act2"/>
<org.eventb.core.action name="_uXWYUQMvEeu8u6cRqHVE-w" org.eventb.core.assignment="q ≔ qx" org.eventb.core.generated="false" org.eventb.core.label="act3"/>
</org.eventb.core.event>
<org.eventb.core.event name="_uXWYUgMvEeu8u6cRqHVE-w" org.eventb.core.convergence="0" org.eventb.core.extended="false" org.eventb.core.generated="false" org.eventb.core.label="Ctrl_ON_unsafe">
<org.eventb.core.refinesEvent name="_uXWYUwMvEeu8u6cRqHVE-w" org.eventb.core.target="Ctrl_ON_unsafe"/>
<org.eventb.core.parameter name="_JIzBkAMwEeu8u6cRqHVE-w" org.eventb.core.generated="false" org.eventb.core.identifier="fx"/>
<org.eventb.core.parameter name="_JIzBkQMwEeu8u6cRqHVE-w" org.eventb.core.generated="false" org.eventb.core.identifier="qx"/>
<org.eventb.core.guard name="_uXWYVAMvEeu8u6cRqHVE-w" org.eventb.core.generated="false" org.eventb.core.label="grd1" org.eventb.core.predicate="s = DECISION"/>
<org.eventb.core.guard name="_uXWYVQMvEeu8u6cRqHVE-w" org.eventb.core.generated="false" org.eventb.core.label="grd2" org.eventb.core.predicate="q = ON ∨ q = OFFON"/>
<org.eventb.core.guard name="_uXWYVgMvEeu8u6cRqHVE-w" org.eventb.core.generated="false" org.eventb.core.label="grd3" org.eventb.core.predicate="gt(Ton(t0↦T0)((now plus deltaT) plus tact), Tmax)"/>
<org.eventb.core.guard name="_uXWYVwMvEeu8u6cRqHVE-w" org.eventb.core.generated="false" org.eventb.core.label="grd4" org.eventb.core.predicate="fx = Toff(now plus tact↦Ton(t0↦T0)(now plus tact))  (openclosed(now, now plus tact)◁ Ton(t0↦T0))"/>
<org.eventb.core.guard name="_GK7iQAMwEeu8u6cRqHVE-w" org.eventb.core.generated="false" org.eventb.core.label="grd5" org.eventb.core.predicate="qx = ONOFF"/>
<org.eventb.core.guard name="_Sv0mMAMwEeu8u6cRqHVE-w" org.eventb.core.generated="false" org.eventb.core.label="grd6" org.eventb.core.predicate="(∀t·t∈Rpos∧t∈openclosed(now, (now plus deltaT) plus tact)⇒fx(t)∈closed(Tmin,Tmax))" org.eventb.core.theorem="true"/>
<org.eventb.core.action name="_uXW_YgMvEeu8u6cRqHVE-w" org.eventb.core.assignment="s ≔ RUN" org.eventb.core.generated="false" org.eventb.core.label="act1"/>
<org.eventb.core.action name="_uXW_YwMvEeu8u6cRqHVE-w" org.eventb.core.assignment="fa ≔ fx" org.eventb.core.generated="false" org.eventb.core.label="act2"/>
<org.eventb.core.action name="_uXW_ZAMvEeu8u6cRqHVE-w" org.eventb.core.assignment="q ≔ qx" org.eventb.core.generated="false" org.eventb.core.label="act3"/>
</org.eventb.core.event>
<org.eventb.core.event name="_uXW_ZQMvEeu8u6cRqHVE-w" org.eventb.core.comment="Case 3: OFF or ONOFF mode, Toff(now+deltaT+tact) &gt;= Tmin, STAY OFF" org.eventb.core.convergence="0" org.eventb.core.extended="false" org.eventb.core.generated="false" org.eventb.core.label="Ctrl_OFF_safe">
<org.eventb.core.refinesEvent name="_uXW_ZgMvEeu8u6cRqHVE-w" org.eventb.core.target="Ctrl_OFF_safe"/>
<org.eventb.core.parameter name="_QvY_gAMwEeu8u6cRqHVE-w" org.eventb.core.generated="false" org.eventb.core.identifier="fx"/>
<org.eventb.core.parameter name="_QvY_gQMwEeu8u6cRqHVE-w" org.eventb.core.generated="false" org.eventb.core.identifier="qx"/>
<org.eventb.core.guard name="_uXW_ZwMvEeu8u6cRqHVE-w" org.eventb.core.generated="false" org.eventb.core.label="grd1" org.eventb.core.predicate="s = DECISION"/>
<org.eventb.core.guard name="_uXXmcAMvEeu8u6cRqHVE-w" org.eventb.core.generated="false" org.eventb.core.label="grd2" org.eventb.core.predicate="q = OFF ∨ q = ONOFF"/>
<org.eventb.core.guard name="_uXXmcQMvEeu8u6cRqHVE-w" org.eventb.core.generated="false" org.eventb.core.label="grd3" org.eventb.core.predicate="leq(Tmin, Toff(t0↦T0)((now plus deltaT) plus tact))"/>
<org.eventb.core.guard name="_uXXmcgMvEeu8u6cRqHVE-w" org.eventb.core.generated="false" org.eventb.core.label="grd4" org.eventb.core.predicate="fx = Toff(t0↦T0)"/>
<org.eventb.core.guard name="_QvZmkAMwEeu8u6cRqHVE-w" org.eventb.core.generated="false" org.eventb.core.label="grd5" org.eventb.core.predicate="qx = OFF"/>
<org.eventb.core.guard name="_Sv1NQAMwEeu8u6cRqHVE-w" org.eventb.core.generated="false" org.eventb.core.label="grd6" org.eventb.core.predicate="(∀t·t∈Rpos∧t∈openclosed(now, (now plus deltaT) plus tact)⇒fx(t)∈closed(Tmin,Tmax))" org.eventb.core.theorem="true"/>
<org.eventb.core.action name="_uXXmdgMvEeu8u6cRqHVE-w" org.eventb.core.assignment="s ≔ RUN" org.eventb.core.generated="false" org.eventb.core.label="act1"/>
<org.eventb.core.action name="_uXXmdwMvEeu8u6cRqHVE-w" org.eventb.core.assignment="fa ≔ fx" org.eventb.core.generated="false" org.eventb.core.label="act2"/>
<org.eventb.core.action name="_uXXmeAMvEeu8u6cRqHVE-w" org.eventb.core.assignment="q ≔ qx" org.eventb.core.generated="false" org.eventb.core.label="act3"/>
</org.eventb.core.event>
<org.eventb.core.event name="_uXYNgAMvEeu8u6cRqHVE-w" org.eventb.core.comment="Case 4: OFF or ONOFF mode, Toff(now+deltaT+tact) &lt; Tmin, SWITCH ON" org.eventb.core.convergence="0" org.eventb.core.extended="false" org.eventb.core.generated="false" org.eventb.core.label="Ctrl_OFF_unsafe">
<org.eventb.core.refinesEvent name="_uXYNgQMvEeu8u6cRqHVE-w" org.eventb.core.target="Ctrl_OFF_unsafe"/>
<org.eventb.core.parameter name="_QvaNoAMwEeu8u6cRqHVE-w" org.eventb.core.generated="false" org.eventb.core.identifier="fx"/>
<org.eventb.core.parameter name="_QvaNoQMwEeu8u6cRqHVE-w" org.eventb.core.generated="false" org.eventb.core.identifier="qx"/>
<org.eventb.core.guard name="_uXYNggMvEeu8u6cRqHVE-w" org.eventb.core.generated="false" org.eventb.core.label="grd1" org.eventb.core.predicate="s = DECISION"/>
<org.eventb.core.guard name="_uXYNgwMvEeu8u6cRqHVE-w" org.eventb.core.generated="false" org.eventb.core.label="grd2" org.eventb.core.predicate="q = OFF ∨ q = ONOFF"/>
<org.eventb.core.guard name="_uXYNhAMvEeu8u6cRqHVE-w" org.eventb.core.generated="false" org.eventb.core.label="grd3" org.eventb.core.predicate="gt(Tmin, Toff(t0↦T0)((now plus deltaT) plus tact))"/>
<org.eventb.core.guard name="_uXYNhQMvEeu8u6cRqHVE-w" org.eventb.core.generated="false" org.eventb.core.label="grd4" org.eventb.core.predicate="fx = Ton(now plus tact↦Toff(t0↦T0)(now plus tact))  (openclosed(now, now plus tact)◁ Toff(t0↦T0))"/>
<org.eventb.core.guard name="_cu6skAMwEeu8u6cRqHVE-w" org.eventb.core.generated="false" org.eventb.core.label="grd5" org.eventb.core.predicate="qx = OFFON"/>
<org.eventb.core.guard name="_cu7ToAMwEeu8u6cRqHVE-w" org.eventb.core.generated="false" org.eventb.core.label="grd6" org.eventb.core.predicate="(∀t·t∈Rpos∧t∈openclosed(now, (now plus deltaT) plus tact)⇒fx(t)∈closed(Tmin,Tmax))" org.eventb.core.theorem="true"/>
<org.eventb.core.action name="_uXY0kQMvEeu8u6cRqHVE-w" org.eventb.core.assignment="s ≔ RUN" org.eventb.core.generated="false" org.eventb.core.label="act1"/>
<org.eventb.core.action name="_uXY0kgMvEeu8u6cRqHVE-w" org.eventb.core.assignment="fa ≔ fx" org.eventb.core.generated="false" org.eventb.core.label="act2"/>
<org.eventb.core.action name="_uXY0kwMvEeu8u6cRqHVE-w" org.eventb.core.assignment="q ≔ qx" org.eventb.core.generated="false" org.eventb.core.label="act3"/>
</org.eventb.core.event>
<org.eventb.core.invariant name="_HTmWQAZsEeu268sQHhZS0g" org.eventb.core.generated="false" org.eventb.core.label="thm_now_tact" org.eventb.core.predicate="leq(zero,now plus tact)" org.eventb.core.theorem="true"/>
<org.eventb.core.invariant name="_HTmWQQZsEeu268sQHhZS0g" org.eventb.core.generated="false" org.eventb.core.label="thm_now_delta_tact" org.eventb.core.predicate="leq(now plus deltaT,(now plus deltaT) plus tact)" org.eventb.core.theorem="true"/>
<org.eventb.core.invariant name="_5iRagAShEeu4TNKd317lfA" org.eventb.core.generated="false" org.eventb.core.label="thm_now" org.eventb.core.predicate="leq(zero,now)" org.eventb.core.theorem="true"/>
<org.eventb.core.invariant name="_HTm9UAZsEeu268sQHhZS0g" org.eventb.core.generated="false" org.eventb.core.label="thm_now_nowtact" org.eventb.core.predicate="leq(now,now plus tact)" org.eventb.core.theorem="true"/>
<org.eventb.core.invariant name="_HTm9UQZsEeu268sQHhZS0g" org.eventb.core.generated="false" org.eventb.core.label="thm_set_Rpos" org.eventb.core.predicate="openclosed(now,now plus tact)⊆Rpos" org.eventb.core.theorem="true"/>
</org.eventb.core.machineFile>
